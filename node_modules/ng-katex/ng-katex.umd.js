!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("extract-math"),require("@angular/common"),require("katex"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","extract-math","@angular/common","katex","@angular/platform-browser"],t):t((e=e||self)["ng-katex"]={},e["@angular/core"],e["extract-math"],e["@angular/common"],e.katex,e.platformBrowser)}(this,function(e,t,n,r,o,i){"use strict";function a(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var u=function(){function e(){this.onError=new t.EventEmitter}return e.prototype.hasError=function(e){this.onError.emit(e)},a([t.Input(),p("design:type",String)],e.prototype,"equation",void 0),a([t.Input(),p("design:type",Object)],e.prototype,"options",void 0),a([t.Output(),p("design:type",Object)],e.prototype,"onError",void 0),e=a([t.Component({selector:"ng-katex",template:'\n    <span [katex]="equation"\n          [katex-options]="options"\n          (someEvent)="hasError($event)">\n    </span>\n  '})],e)}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"segments",{get:function(){return n.extractMath(this.paragraph)},enumerable:!0,configurable:!0}),a([t.Input(),p("design:type",String)],e.prototype,"paragraph",void 0),e=a([t.Component({selector:"ng-katex-paragraph",template:'\n    <p>\n      <ng-container *ngFor="let segment of segments">\n        <ng-katex\n          *ngIf="segment.math else text"\n          [equation]="segment.raw"\n          [options]="{ displayMode: segment.type === \'display\' }">\n        </ng-katex>\n        <ng-template #text>{{ segment.value }}</ng-template>\n      </ng-container>\n    </p>\n  '})],e)}(),c=function(){function e(){}return e.prototype.render=function(e,t,n){return o.render(e,t.nativeElement,n)},e.prototype.renderToString=function(e,t){return o.renderToString(e,t)},e=a([t.Injectable()],e)}(),l=function(){function e(e,n){this.el=e,this.katexService=n,this.onError=new t.EventEmitter}return e.prototype.ngOnChanges=function(){try{this.katexService.render(this.equation,this.el,this.options)}catch(e){this.onError.emit(e)}},a([t.Input("katex"),p("design:type",String)],e.prototype,"equation",void 0),a([t.Input("katex-options"),p("design:type",Object)],e.prototype,"options",void 0),a([t.Output(),p("design:type",Object)],e.prototype,"onError",void 0),e=a([t.Directive({selector:"[katex]"}),p("design:paramtypes",[t.ElementRef,c])],e)}(),f=function(){function e(e,t){this.domSanitizer=e,this.katexService=t}return Object.defineProperty(e.prototype,"allHtml",{get:function(){var e=this,t=this.segments.map(function(t){return t.math?e.katexService.renderToString(t.raw,{displayMode:"display"===t.type}):t.value}).reduce(function(e,t){return e+t});return this.domSanitizer.bypassSecurityTrustHtml(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"segments",{get:function(){return n.extractMath(this.html)},enumerable:!0,configurable:!0}),a([t.Input(),p("design:type",String)],e.prototype,"html",void 0),e=a([t.Component({selector:"ng-katex-html",template:'<span [innerHTML]="allHtml"></span>'}),p("design:paramtypes",[i.DomSanitizer,c])],e)}(),g=function(){function e(){}return e=a([t.NgModule({imports:[r.CommonModule],providers:[c],declarations:[l,u,s,f],exports:[u,s,f]})],e)}();e.KatexComponent=u,e.KatexModule=g,e.KatexParagraphComponent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-katex.umd.js.map
